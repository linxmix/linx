<template name="MixPage">
  <div class="MixPage">

    <!-- Header -->
    <h1 class="inverted ui center aligned header">
      <div class="content">
        {{title}}
        <div class="sub header">
          {{createdBy}}
        </div>
      </div>
    </h1>

    <div class="inverted bottom-attached basic ui track-menu icon buttons">
      <div class="orange ui save-mix button {{saveButtonClass}}"><i class="cloud upload icon"></i> Save</div>
    </div>
    <div class="inverted attached ui segment">
      <!-- Menu -->
      <h3 class="inverted left aligned ui header">{{trackCountText}}</h3>
      <!-- Tracks -->
      <div class="inverted ui fluid accordion">
        {{#each tracksInfo}}
          {{> TrackAccordion}}
        {{/each}}
      </div>
    </div>

    <!-- Add Track -->
    <div class="inverted attached ui segment">
      <h3 class="inverted center aligned ui header">Add Track</h3>
      {{#unless refreshNewTrack}}
        {{> Track_Wave onReady=onNewTrack}}
      {{/unless}}

      <div class="ui suggestions grid">
        <div class="eight wide centered column">
          {{> TrackLinksList _idTrack=lastTrackId}}
        </div>
      </div>
    </div>

  </div>
</template>

<template name="TrackAccordion">
  <div class="title {{activeClass}}">
    <i class="dropdown icon"></i>
    {{position}}. {{track.attributes.title}}
  </div>
  <div class="content {{activeClass}}">
    {{#if activeClass}}
      {{> Track_Wave _idTrack=track.attributes._id}}
    {{/if}}
  </div>
</template>
