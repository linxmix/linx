{{#arrangement-visual
  pxPerBeat=pxPerBeat
  arrangement=arrangement
  zoom=zoom
  isReady=isReady
  seekToBeat=(action "seekToBeat")
  class="MixBuilder-ArrangementVisual"
  as |gridSelect width height|
}}

  {{!-- Track Clips --}}
  {{#zip-entries select=gridSelect.MixBuilder-trackClips items=mix.trackClips as |trackClip tag|}}
    {{mix-visual/track-clip
      select=tag
      clip=trackClip
      selectedClip=selectedClip
      quantizeBeat=(action "quantizeBeat")
      fullHeight=height
      rowHeight=rowHeight
      pxPerBeat=pxPerBeat
    }}
  {{/zip-entries}}

  {{!-- Transition Clips --}}
  {{#zip-entries select=gridSelect.MixBuilder-transitionClips items=mix.transitionClips as |transitionClip tag|}}
    {{mix-visual/transition-clip
      select=tag
      clip=transitionClip
      pxPerBeat=pxPerBeat
      selectedClip=selectedClip
      fullHeight=height
      rowHeight=rowHeight
      quantizeBeat=(action "quantizeBeat")
    }}
  {{/zip-entries}}


  {{!-- From Track Automation Clips --}}
  {{#zip-entries
    select=gridSelect.MixBuilder-FromTrackAutomationClips
    items=(if showVolumeAutomation selectedTransition.fromTrackAutomationClips [])
    as |automationClip tag|
  }}
    {{mix-visual/automation-clip
      select=tag
      clip=automationClip
      pxPerBeat=pxPerBeat
      height=rowHeight
      row=0
    }}
  {{/zip-entries}}

  {{!-- To Track Automation Clips --}}
  {{#zip-entries
    select=gridSelect.MixBuilder-ToTrackAutomationClips
    items=(if showVolumeAutomation selectedTransition.toTrackAutomationClips [])
    as |automationClip tag|
  }}
    {{mix-visual/automation-clip
      select=tag
      clip=automationClip
      pxPerBeat=pxPerBeat
      height=rowHeight
      row=2
    }}
  {{/zip-entries}}
{{/arrangement-visual}}